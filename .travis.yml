language: ruby
cache: bundler
addons:
  apt:
    packages:
    - libcurl4-openssl-dev
sudo: false
env:
  global:
  - NOKOGIRI_USE_SYSTEM_LIBRARIES=true
  - secure: Qu779Q2LoR2WKoZ0ZgvMYXe7/ZBNfPwbmbQRGxXqXNR756GbBFNx7oCpmZnjCIGI7uq5JVoQJzKEQYE6NJ5e49ywh6zEoJzt6NF+8Dwaf7VG9Ix8VLaotV4lQJ/EpszkGZgkecIjKxAyV61axOy+jfjnH7OwcQqFq/zUHkfcR37KkXNaypxT+QibDubkkoVj4hTRXAaTnzzgH2YN/ay/VUnFgXLr+dirTwenfiF8DBVUHrcdJPESX/dogEQYrRGzxeg8gQfdvpg+fCJlpGxn+TciWDKcX0EzhUJ3v/y3S1J4XmlZLmbtMfGoG0lXQlVCk6anGEe+L2YEaya1wgvYhoOkCNjfAdtoiBpMmz1fG0n4nzblvI+boZ3yotMxWdsUcSvdfsgurw71UR8y0l4vnZbXYd+V9Cc5YYtCm7pI175RkErKG4CkIpzvtZfNd8u73dGasOhZYLh4jdIxowanjPT23gre1wigKDAci3mNgmM0wt24zKBJ8kZskDKY1wcwQqSaeMrRi7cEiPnkcoNX2bP9n2HVDyGikQFvZpdo4DXrO7Nkgko0QzM30WxOue6suMsSEDFEC5hDVEUvhKXkZ1BXAWMjS2UIcpPtiIxwp70iw0AIdzr/Ba8An4jOzok5MSLEiF9Ab0OgMoRUd07sDtzO0rl34NfD8YOlvXbupyk=
  - secure: VFgw+B4VYsDB3yVCLErzLl5AseN8NqEybthxYg8MYqbLBQEF0vSrr3JwArixQzJ1rVo/ltHmPsq89dcrE9DJCM0QZQE9fi+a4TiQ0cLd5HOGGO6tWTiIvR00obRLdbHp7yCnifysOZf1n2cqfrESEaCFScw1M7crJ4LvjZvZVG/N4vjBMQfr7H0i4q/gFN4wwCJXf6QICQfwM3/e3L6/coNSGKZM1gH/7tG1Se4i/6WKRgytiBjcqn4Cm+CrzFUhSGwdYkoNf2o18d9OaPJc0yLjw6kxHccvC87NZXFXYXWADOJbgFgPGdTQNW1NrzNjwvvgZtvDj7X+IYYNfHK+IK5xoW/GmKa7qFb/DR3UWdZ0LbAfvaOEpKKBuJ1/h/UcB9ptoF+90hrtrBq4AT5h6vESdoC7TN9czNlXR4boM7lf3n/pr0+0F+h1ivXIL/u8EzCFcfGKLypggRt6XLTY36JpcnQE9M6lAP+pPHafBu+psrqK3PigNIWpl/vad9JOJa3ilOuBX4a63V9V//l7uJ+sxi0GRB+KF2uz5Ownv6ayvS+IgWS2Av3+ahFkQyWJBzCCsFXEgeTYThXI1PvEDXVsWHxajG3dzcTbPWU7mt3CdDvtG2DYB+D+PRbT3dBhav3F2jo+Qa6NWBH0XYogGNRR8TlkNm+iICLhBkcGTp8=
  - secure: NgqJe8ehYWnPmtFLKAr0oVPfF4FjuYk9yEtDknFTyud20p/bnDspk3Q2+hXWKALcyNoY7QvVoftDVvQw8kDMp64TUVmghggcui7gwLwUIjYQycQbSrViX9GDGLuq1mGjpDcqUstd2fQrpa8AWmSeaaeKQOqZb/gQSCddRiJBPgXD1jSwgbcCEPeQ0SNV2rr78zMgTsVpJL7oxv2LJcF3GksZtPy8DYctw1XCZG7Za189fATyF9bqTE9dowRjpT22InpDWMeJ6y05J3mSe0BUBPAebLOxmnwR3PXyTOWjMxJZw2pdFtOUtSeurOYACQ9fZAWQUna/rLbl9P9MmFRndB4xKWUmcovo6J1hC15VF0XoI5Tb/L8P9Y++aN+QH1OCGyiugDye1GepVzjfLcN1zkXkkF30Fc+C5tF1GfLybsm97Kk/Je1rgxKlB+ziO/a/A0PmpH0XGHSgZ6Kw+xrEnUfd1m5Wu7+yXIHNHUQLnbURV9n0i6e+nQk+aiPQ4nNb6Zcm2LaG7kUTGCLecB7uGG8Kz3iASMops5/2cDA8RN1zHtiahjm9mM/OlQoalzRBAOtxPC8odRdfWpj4eEU2YZ+n5WF6XSSg4CYctHw1uvUiv5GpHoYFA+u6BKepvUS0aSwEtvAT0fM8NgAZuAKacKpy8UOR9wk917LZIu9LEiM=
  - secure: LVcw7y7SFfD1py18rY/VHOVc/rbaK9ucMCzrToxgtd3TEsW+CpTLm8HuQJxGRzRMGmaQ29OqU9ch8j0eZPsooEL58QpANQ03vhLvhns8630JSkO3qXu+X/OlMN03k2tSCS08AXcVO5G1vL+jBUAOvHr+IZryzbVUUkxksbSxZAYoElR/3FfkCrHJNC26xugn+ex9NWE27ruz1iDs6gQiVhIQtjd+YR9oCxCWJxalAkEglTixpzYT1bnHuxjuH/1e3Ksw8Ku5RH4tajhvkkXZQ9epgPSZEgeXpMpm2UT445BopnNIgQkf29Les28eXulCf/jmGHQYEZWHb7Nwt9diFQdvsV6pMl7cQif2pZRZ7goK29mTrY+mDmV7v/xNYMnCqOCfajAItFsd7KAEDhgpJmpgi2AQNH/nEiiufFMyygIjl1BdUWw9XT2Nss19akXPjwsou5fNw3ka17Bsa5OULgSYuHKxQHkxuRgwmgZMkt4l5Zia5ng9PAxI7pIXumoUAcqAj9AzK6IY6zgQ45k7U0se/XB7uZHuRE84NZdk9wcfN8FvFqbAHqoa1jazShC81pmnflW5He0mMivOVb8hiA1Jbkft8eb6ShJIfnyPcGu47J25MjZah6JpbjXZ6hPbup+mYYvPQWL1ZR3742tZUKFFnY+cpym1h/72nNlVzEs=
  - secure: bYLryY2EUtGfNW8WQrQgBikdLLp04Kg7hacxOFbNpgCoTjZuxsOnkKNr3LWadJzx+hI//YjPHwDSoQccadqMhE6K5FyU0xKVm8Ga6TzE4kxPVgItzts39mqZTe1zWkE3YF0CJcUEcYXoUhlyHHElfVv67jFCmgzSRc6n3ZeEwO9T2QpCdclakxPRoI7ZWOq/BjlgvKF3EptVGjbMaRtXhHDqavUX3tvpYnHxVcx+0QyHep9ySZFZCWpKw0UFg7UEd30LUyL7ZiGX8xcqXD3J8UhWyfqLe0SAmRaxRgANm0St5VpAbW8e60h7ctTLA6Gk6R3k4Mac644CVPEhO1A68se138dqYTDmya65ZjJ4Jv7K0NVxQUAJ7Jv3A1X5S2UhMhHRtXBm6CPWn08F7btOzOCuznZVRrNvrqBHg9lmc3mdRbdxS/gn6lr8ew8kvHHKNMeF8gVI8zUMfA05D66xte4HPEk/7ok462t+JutyjNW/4Sm/dhnb8TDg/UCitoLQE2I/qxkcIRQsnBQwZM78ZwLLp3keSQXrchc6xqVHnPCwAcwRAgc5amTElqPPZax65tCYDxH+TLne3eGhO1i3dYUnVGxUOIBUsbGpOn4ImqesudhWGLukFb17AhAysSy1ev8nHxycD8niizM7SsCu/byfQEUcvyE0Za55datoWRk=
  - secure: JRjKMTXsdou65FFE+Ez90aAjlU27MZo2OBJKesgg785Lq9iT1m9kGGxW2/KTuZWqXhr0iVJZvwWRjcFxS6XQLjbeNLqutRJkGETovB+OiBU7H8SBqQSH/NBZobZ62y70HiP6nfJaKC9+0l7cC5r7Rkzl486nSw+Ff497R21gFI1xLDE6vghKM44lOkfcfQ71IIhSvDi1xD6sFPQp4o2r9xlcPseNt9aYc9YWq+5XnKClcUTvsTFqp0mq4gOlifkodev2eorvecsOskDq+mdndAN3PKOEeyztc6QeFixR+kpQVcFB3vobr8x47W2peZiYFjV2OFy3mlj+XuosLJ9pTgNOQITJ2RdXeo6gl9J7nzs/9PVVE9Z4LFsKthHIjVN10Pvn0n8fYpfwrpCnUTBc0+m6OWuCrHThIa+KqSSW7/rPxZmg6x+tsHR0HOIMtMiVAITWS9B1HGrHRV08H4XeUx2vx3zQU7Ny+I+0GWN6HAeP4CmfFKUhom00FIvzyFqRk41ZF70eLJF3zwiCdd4Hf907TuZxCYV44FwBsV6P6yt/maTHJw09XJmsVUGMURX5ymE5jThzkWkSDL9ZdMAYWKLd2sOl+cY362mvriatErogNbPwTUQvKBk1bW8lh6f55FZ1w11hx881Jkc+s1P/4IExw4vIbjScLoBQLo1NYmU=
  - secure: kG/eVrGKceF84R975M0wouaGvykJWhTpqDzcOltnHcvyOIH21rjuwInQzismK8m27cMTuKOst9/03D2yYs18SSgyqves3mQnpRSXFdkfMFR+j1oKpJMYviJwT3n7oF0TguuDaKuUk+zRHxUPGfGema3V58QCaLDi71Yx7N8XYyMBUOz+JFcsjnoEQwWfZgivvH5bpZZdY6DolycNJlmRXdvVAL4sKLGZCffNDJYXI3s4mV7305dd4NGB0CZTP4sftymSkOmezLc18+qnQO2waGv3FQgRedwJ/X3sOK8MdCHKVX0tV6WhaVCVcnDinVwTRuj40mcueAPAvqDn+lXR2PyvnV/+meVkpdKCMjFo1v66eBEjk0g5XSXDsHloR0gQn3pW3VTksulsj5WjD81VOek+6hsEbsiwhGf4I8a6yE2gjKHxBpRzzL5/vpAO+oPrAA7rErdlObDMGqt5S630VkjQKH3JU1YPFcB7kLbNUV4Aw0NUoOXhY/0MbU8SPeMf8TxDQ9w5o5wxBh7GOUxoxNYA+XX4/5UUQIC8opLToGJsksdKPZtsw9O3BgLAa2czNW9eliMxFTGedrQYuEakVL1GVqkxAbi+MTalo1cTc8YfLiHrD0l5A2u/TT4QKe+OoDmC+5PnfDshp3MTLZyhBJnEoCylmzE/O8O9CJqd30M=
  - secure: gLwvfpfAZs4anOqOpZvxjsBOocUR/7RnFgAiaIWqmLYnh2NpU0gERCb7Uhjd8A564KWBYduKcwFCvlN2lS7FK7Cpzg+jHDKBCZxD8tROXGaPCKnNZO0k9Q5ZjUQz5nuWM/20EvMoQKm6X9mZzq+ddrk9ojbuRU1gKcnwSIzSEEJ+BUbetm0AMSLSB+ECH/cpPQY3AIhPPTzAMQ6wExWLa+T564Vr0YEz9fU/U7m+2MPuDclL2Of99AgB+cKSebPeqiTJduvQdx+ACfuGxYNzH40NY0ygUyVAUJ24aL34oB0fOJPOvLPN259c+pCLHzo3I6jLeFCbHek+gZNYd+W9F3LBYUf+hTW4VQs/ymjIwIcdcQF/Ezsu3/Hfx4QqU5AzW0Oth3bjE1KBQN2RsUC+1zkjwiC9zDPBScAzvbtyjNs4xDjoOBGkCD50QMe3rQDAt70j4pMm5v+TQzdzLUrakEYIwahejObpLNHxgxmEmI0TYrqBD+HoXSjqDYpcL5HCgDKeMEs+Wi6bQpf+CWViVifoDkOhPbQjSFLtqNglO2Itdmokbd95iHOeqwt09KzYnzZyExi3zZxqUYtdAQoRFgNyqA59p3fdgqIJAUvVt5Ux004ZdzGHKUpym2hJ1sj7AeCcq6CLxaFOf5pCv6wRkpsnZYJ8ztVOnKgdMVfjAWM=
  - secure: KoNmp19smuTI02JabDlWzSsCkNULe6vZy/souslom0ymmnRZHBC0/8WQ98JfzwNAqLfxfGfebdwWd9M3fCwqt4qTbgmAVWJbBKx3e/gQevv4nyA9mihbOoiSbOxj64R0U6EbeO/x0mVCRvcvUOmy+cE2NVHkwbufJsPDYCqNvtxyao/LtQondhdxEDuSrET6s60uMI+/qwpuSPZEmf3LE7W3v8gRqUiTeOIcC4JvCtFlaZvrjXXvjB14Fy/imI3CJxEnuhLkfFUqDUZi1p/nKLn/ngwrAuC8ElrAWBmbAj1RBZczNVBw9nKcXpCRFWwM43xiJ0qIi4wb2ViqV49gcz68U3VXrBmRc+6MMNOawpi+n6Rb8+V1yomIgqcfh1c+ngADY84HhGOdeWuBGeBbPhI6HrUIBY6fysHtaI5YOxC70Ucx9lMzBywjepRUuBG5Xu6dHfHm9v8RpItFqfZoLSyy4LqMUjP69+7nvUZNlek8mCJ6/mFaeBOYIvKWShWxlAYQMaL/29IN7ex6U7PrY2TukUY4cfVtdXX4vdSXbLx3iRg5Dm9qNcjHtpVBndrVLGBAvQOJ/fAt2au1knXgoIcZXncqqTz8Mydkzd5jxrXNX4g5PvCPLIEqCrVkbrIOtqB4mP094W1Uj+BjCS1w8I9ojXSDFkQLvX/1Rd6NuV4=
  - secure: qMpOUtLmxcXnslOYiOEUv9Dj6UrV1x2WqjzpcjkxTLiJ1yLKyxn56k3s9AZ/mgvrpI3XtdtqV60KoGlNEC2Yge0+Sqshwx2sOof+hAIYPhsNyPHjl7UDAkmm8eWnRFD+MM0kZC9BE7q3cf8G3RFKirBKAoaWYAKoPF9wuJn6Cb7VTU2UKRXhENng6xJGH4P8uzqT2deFR8Qoz6sk1wvqb3ULdk1CSadeYQ5F0Z4gIHUArbZ9Mqo9rf8YjKAKfBR3h+xh5qDo92ziPK2CKBxTTWm30svJhL5OJpCZV7fHQ6EfXU1x5M9R5fEUlIoUwB3LTNQrClo8mNEzWeMMw9CwZACRNssEAMU8c73AeRdRQA9BKpYmKThuweYmpEZDMZUJ+Mq3gQNfO2e/nr23yunV9aw6O1A3SQFN+uwqkEOWMc2apQx6Ps3AANwjsAdob3vwizr83FEtKYRER3Mrx1QMVrQUjz9elCpUd7K2Wg5iP9yRU+et/iKN3wJbndt3rKPKxWKP9W1ZV7qmc6ArqKY7TV+3aRi1qma5XO+A5z0f6zFpCnoVbfMms+cwUrW6Nr10RifoiUxWOdAZ1wfkY975uQtdCoMg4c/3XuaD6h7n4lDN6IByY5xjz25oMwkhn9s9yIl3p6feJvj3nXi2KMDC4duXL1GTxBRrzZH0hHb8Y00=
notifications:
  email: false
install:
- bundle install
- pip install --user awscli
script: "./script.sh"
deploy:
  on:
    branch: master
  provider: s3
  region: $AWS_DEFAULT_REGION
  bucket: $S3_BUCKET
  local_dir: _site
  acl: public_read
  skip_cleanup: true
  access_key_id: $AWS_ACCESS_KEY_ID
  secret_access_key: $AWS_SECRET_ACCESS_KEY
after_deploy:
  # Note that before_deploy and after_deploy are run before and after every deploy provider, so
  # will run multiple times if there are multiple providers.
  # Invalidate Cloudfront cache for path "/*" which means all
  - ./_scripts/invalidate_cf.rb "/*"
